{"ast":null,"code":"import _slicedToArray from \"/Users/MMayaguari/Documents/GitHub/EthereumRoullette/dapp/packages/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/MMayaguari/Documents/GitHub/EthereumRoullette/dapp/packages/frontend/src/App/App.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport React, { useEffect, useState } from 'react';\nimport { Login } from '../Login';\nimport { Profile } from '../Profile/Profile';\nimport logo from \"./logo.svg\";\nvar LS_KEY = 'login-with-metamask:auth';\nexport var App = function App() {\n  _s();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  useEffect(function () {\n    // Access token is stored in localstorage\n    var ls = window.localStorage.getItem(LS_KEY);\n    var auth = ls && JSON.parse(ls);\n    setState({\n      auth\n    });\n  }, []);\n\n  var handleLoggedIn = function handleLoggedIn(auth) {\n    localStorage.setItem(LS_KEY, JSON.stringify(auth));\n    setState({\n      auth\n    });\n  };\n\n  var handleLoggedOut = function handleLoggedOut() {\n    localStorage.removeItem(LS_KEY);\n    setState({\n      auth: undefined\n    });\n  };\n\n  var auth = state.auth;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        className: \"App-logo\",\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"App-title\",\n        children: \"Welcome to Login with MetaMask Demo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-intro\",\n      children: auth ? /*#__PURE__*/_jsxDEV(Profile, {\n        auth: auth,\n        onLoggedOut: handleLoggedOut\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 6\n      }, _this) : /*#__PURE__*/_jsxDEV(Login, {\n        onLoggedIn: handleLoggedIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(App, \"d/109zsnYLOF9M9RLxKBdAExSLI=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/MMayaguari/Documents/GitHub/EthereumRoullette/dapp/packages/frontend/src/App/App.tsx"],"names":["React","useEffect","useState","Login","Profile","LS_KEY","App","state","setState","ls","window","localStorage","getItem","auth","JSON","parse","handleLoggedIn","setItem","stringify","handleLoggedOut","removeItem","undefined","logo"],"mappings":";;;;;;;AAAA,OAAO,WAAP;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,SAASC,KAAT,QAAsB,UAAtB;AACA,SAASC,OAAT,QAAwB,oBAAxB;;AAIA,IAAMC,MAAM,GAAG,0BAAf;AAMA,OAAO,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAmB;AAAA;;AAAA,kBACXJ,QAAQ,CAAQ,EAAR,CADG;AAAA;AAAA,MAC9BK,KAD8B;AAAA,MACvBC,QADuB;;AAGrCP,EAAAA,SAAS,CAAC,YAAM;AACf;AACA,QAAMQ,EAAE,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BP,MAA5B,CAAX;AACA,QAAMQ,IAAI,GAAGJ,EAAE,IAAIK,IAAI,CAACC,KAAL,CAAWN,EAAX,CAAnB;AACAD,IAAAA,QAAQ,CAAC;AAAEK,MAAAA;AAAF,KAAD,CAAR;AACA,GALQ,EAKN,EALM,CAAT;;AAOA,MAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAACH,IAAD,EAAgB;AACtCF,IAAAA,YAAY,CAACM,OAAb,CAAqBZ,MAArB,EAA6BS,IAAI,CAACI,SAAL,CAAeL,IAAf,CAA7B;AACAL,IAAAA,QAAQ,CAAC;AAAEK,MAAAA;AAAF,KAAD,CAAR;AACA,GAHD;;AAKA,MAAMM,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC7BR,IAAAA,YAAY,CAACS,UAAb,CAAwBf,MAAxB;AACAG,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAEQ;AAAR,KAAD,CAAR;AACA,GAHD;;AAfqC,MAoB7BR,IApB6B,GAoBpBN,KApBoB,CAoB7BM,IApB6B;AAsBrC,sBACC;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACC;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA,8BACC;AAAK,QAAA,GAAG,EAAES,IAAV;AAAgB,QAAA,SAAS,EAAC,UAA1B;AAAqC,QAAA,GAAG,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,eADD,eAEC;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFD;AAAA;AAAA;AAAA;AAAA;AAAA,aADD,eAOC;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,gBACET,IAAI,gBACJ,QAAC,OAAD;AAAS,QAAA,IAAI,EAAEA,IAAf;AAAqB,QAAA,WAAW,EAAEM;AAAlC;AAAA;AAAA;AAAA;AAAA,eADI,gBAGJ,QAAC,KAAD;AAAO,QAAA,UAAU,EAAEH;AAAnB;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,aAPD;AAAA;AAAA;AAAA;AAAA;AAAA,WADD;AAiBA,CAvCM;;GAAMV,G;;KAAAA,G","sourcesContent":["import './App.css';\n\nimport React, { useEffect, useState } from 'react';\n\nimport { Login } from '../Login';\nimport { Profile } from '../Profile/Profile';\nimport { Auth } from '../types';\nimport logo from './logo.svg';\n\nconst LS_KEY = 'login-with-metamask:auth';\n\ninterface State {\n\tauth?: Auth;\n}\n\nexport const App = (): JSX.Element => {\n\tconst [state, setState] = useState<State>({});\n\n\tuseEffect(() => {\n\t\t// Access token is stored in localstorage\n\t\tconst ls = window.localStorage.getItem(LS_KEY);\n\t\tconst auth = ls && JSON.parse(ls);\n\t\tsetState({ auth });\n\t}, []);\n\n\tconst handleLoggedIn = (auth: Auth) => {\n\t\tlocalStorage.setItem(LS_KEY, JSON.stringify(auth));\n\t\tsetState({ auth });\n\t};\n\n\tconst handleLoggedOut = () => {\n\t\tlocalStorage.removeItem(LS_KEY);\n\t\tsetState({ auth: undefined });\n\t};\n\n\tconst { auth } = state;\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<header className=\"App-header\">\n\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\n\t\t\t\t<h1 className=\"App-title\">\n\t\t\t\t\tWelcome to Login with MetaMask Demo\n\t\t\t\t</h1>\n\t\t\t</header>\n\t\t\t<div className=\"App-intro\">\n\t\t\t\t{auth ? (\n\t\t\t\t\t<Profile auth={auth} onLoggedOut={handleLoggedOut} />\n\t\t\t\t) : (\n\t\t\t\t\t<Login onLoggedIn={handleLoggedIn} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}